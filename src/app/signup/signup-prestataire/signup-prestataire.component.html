<form class="container feature-section" (ngSubmit)="handlePrestataireSignup()" #signupForm="ngForm">
    <div class="surface-card p-4 shadow-2 border-round w-full lg:w-6 gray-bg-1">
      <div class="text-center mb-5">
        <img src="assets/images/logo/red-heart-icon.svg" alt="Image" height="50" class="mb-3">
        <div class="text-900 text-3xl font-medium mb-3">Créer un compte Prestataire</div>
        <span class="text-600 font-medium line-height-3">Déjà un compte ?</span>
        <a class="font-medium no-underline ml-2 text-yellow-link cursor-pointer" routerLink="/login">Connectez-vous ici !</a>
      </div>
  
      <p *ngIf="errorMessage" class="error-message text-center error">{{errorMessage}}</p>
  
      <div class="form-outline mb-4 form-group">
        <label for="nom" class="block text-900 font-medium mb-2">Nom</label>
        <input id="nom" type="text" placeholder="Nom" class="w-full mb-3 form-control" [(ngModel)]="nom" name="nom" required>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label for="prenom" class="block text-900 font-medium mb-2">Prénom</label>
        <input id="prenom" type="text" placeholder="Prénom" class="w-full mb-3 form-control" [(ngModel)]="prenom" name="prenom" required>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label for="num_tel" class="block text-900 font-medium mb-2">Numéro de téléphone</label>
        <input id="num_tel" type="tel" placeholder="Numéro de téléphone" class="w-full mb-3 form-control" [(ngModel)]="num_tel" name="num_tel" pattern="^\d{8}$" required>
        <div *ngIf="signupForm.submitted && !signupForm.controls['num_tel']?.valid" class="error">
          Le numéro de téléphone doit comporter exactement 8 chiffres.
        </div>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label for="gouvernorat" class="block text-900 font-medium mb-2">Gouvernorat</label>
        <select id="gouvernorat" class="w-full mb-3 form-control" [(ngModel)]="gouvernorat" name="gouvernorat" required>
          <option value="" disabled selected>Choisissez votre gouvernorat</option>
          <option value="Ariana">Ariana</option>
          <option value="Beja">Beja</option>
          <option value="Ben Arous">Ben Arous</option>
          <option value="Bizerte">Bizerte</option>
          <option value="Gabes">Gabes</option>
          <option value="Gafsa">Gafsa</option>
          <option value="Jendouba">Jendouba</option>
          <option value="Kairouan">Kairouan</option>
          <option value="Kasserine">Kasserine</option>
          <option value="Kebili">Kebili</option>
          <option value="Kef">Kef</option>
          <option value="Mahdia">Mahdia</option>
          <option value="Manouba">Manouba</option>
          <option value="Medenine">Medenine</option>
          <option value="Monastir">Monastir</option>
          <option value="Nabeul">Nabeul</option>
          <option value="Sfax">Sfax</option>
          <option value="Sidi Bouzid">Sidi Bouzid</option>
          <option value="Siliana">Siliana</option>
          <option value="Sousse">Sousse</option>
          <option value="Tataouine">Tataouine</option>
          <option value="Tozeur">Tozeur</option>
          <option value="Tunis">Tunis</option>
          <option value="Zaghouan">Zaghouan</option>
        </select>
      </div>

      <div class="form-outline mb-4 form-group">
        <label for="date_de_naissance" class="block text-900 font-medium mb-2">Date de naissance</label>
        <input id="date_de_naissance" type="date" placeholder="Date de naissance" class="w-full mb-3 form-control" [(ngModel)]="date_de_naissance" name="date_de_naissance" required>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label for="email" class="block text-900 font-medium mb-2">Email</label>
        <input id="email" type="email" placeholder="Adresse mail" class="w-full mb-3 form-control" [(ngModel)]="mail" name="mail" required email>
        <div *ngIf="signupForm.submitted && !signupForm.controls['mail']?.valid" class="error">
          Veuillez entrer une adresse email valide.
        </div>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label for="mdp" class="block text-900 font-medium mb-2">Mot de passe</label>
        <input id="mdp" type="password" placeholder="Mot de passe" class="w-full mb-3 form-control" [(ngModel)]="mdp" name="mdp" required>
      </div>
  
      <div class="form-outline mb-4 form-group">
        <label class="block text-900 font-medium mb-2">Services</label>
        <div *ngFor="let service of servicesP">
          <input type="checkbox" [id]="service.id" [value]="service.id" (change)="onServiceChange($event, service.id)" [checked]="selectedServices.includes(service.id)">
          <label [for]="service.id" class="ml-2">{{service.name}}</label>
          <div *ngIf="showPriceField[service.id]" class="mt-2">
            <input type="number" [id]="'price_' + service.id" placeholder="Prix par heure" class="w-full form-control" [(ngModel)]="prices[service.id]" [name]="'price_' + service.id" required>
          </div>
        </div>
      </div>

      <div class="form-outline mb-4 form-group">
        <label for="profileImage" class="block text-900 font-medium mb-2">Image de profil</label>
        <input id="profileImage" type="file" (change)="onImageChange($event)" class="w-full mb-3 form-control" accept="image/*">
      </div>
  
      <button class="main-btn btn-hover w-full" type="submit">S'inscrire</button>
    </div>
  </form>
